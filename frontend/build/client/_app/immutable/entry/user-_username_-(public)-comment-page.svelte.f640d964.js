import{S as j,i as F,s as H,k as y,q as N,a as P,l as E,m as I,r as w,h,c as S,n as k,b as U,D as p,u as q,G as z,y as A,z as B,A as C,g as d,d as v,B as D,w as L,Y as Q,Z as R,e as G,v as J,f as K,$ as W}from"../chunks/index.4c08a5a5.js";import{B as X}from"../chunks/BoxGallery.30b4255f.js";import{G as x}from"../chunks/Gallery.ad441785.js";import{f as O}from"../chunks/index.c08ef366.js";import{N as ee}from"../chunks/NavUser.828ade69.js";function te(o){let e,s,a,t=o[0].imageId+"",c,n,i,r,m=o[0].comment+"",l,f,g,$=O(o[0].createdAt)+"",b;return{c(){e=y("div"),s=y("a"),a=N("http://localhost:3000/gallery/"),c=N(t),i=P(),r=y("div"),l=N(m),f=P(),g=y("p"),b=N($),this.h()},l(u){e=E(u,"DIV",{class:!0});var _=I(e);s=E(_,"A",{href:!0,class:!0});var T=I(s);a=w(T,"http://localhost:3000/gallery/"),c=w(T,t),T.forEach(h),i=S(_),r=E(_,"DIV",{class:!0});var V=I(r);l=w(V,m),V.forEach(h),f=S(_),g=E(_,"P",{class:!0});var M=I(g);b=w(M,$),M.forEach(h),_.forEach(h),this.h()},h(){k(s,"href",n="/gallery/"+o[0].imageId),k(s,"class","svelte-prz2ve"),k(r,"class","user-comment-content svelte-prz2ve"),k(g,"class","svelte-prz2ve"),k(e,"class","user-comment-container svelte-prz2ve")},m(u,_){U(u,e,_),p(e,s),p(s,a),p(s,c),p(e,i),p(e,r),p(r,l),p(e,f),p(e,g),p(g,b)},p(u,[_]){_&1&&t!==(t=u[0].imageId+"")&&q(c,t),_&1&&n!==(n="/gallery/"+u[0].imageId)&&k(s,"href",n),_&1&&m!==(m=u[0].comment+"")&&q(l,m),_&1&&$!==($=O(u[0].createdAt)+"")&&q(b,$)},i:z,o:z,d(u){u&&h(e)}}}function ae(o,e,s){let{comment:a}=e;return o.$$set=t=>{"comment"in t&&s(0,a=t.comment)},[a]}class se extends j{constructor(e){super(),F(this,e,ae,te,H,{comment:0})}}function Y(o,e,s){const a=o.slice();return a[2]=e[s],a}function re(o){let e,s,a;return{c(){e=y("div"),s=y("p"),a=N("This user hasn't commented yet"),this.h()},l(t){e=E(t,"DIV",{class:!0});var c=I(e);s=E(c,"P",{});var n=I(s);a=w(n,"This user hasn't commented yet"),n.forEach(h),c.forEach(h),this.h()},h(){k(e,"class","user-message")},m(t,c){U(t,e,c),p(e,s),p(s,a)},p:z,i:z,o:z,d(t){t&&h(e)}}}function ne(o){let e,s,a=o[0].comments,t=[];for(let n=0;n<a.length;n+=1)t[n]=Z(Y(o,a,n));const c=n=>v(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=G()},l(n){for(let i=0;i<t.length;i+=1)t[i].l(n);e=G()},m(n,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,i);U(n,e,i),s=!0},p(n,i){if(i&1){a=n[0].comments;let r;for(r=0;r<a.length;r+=1){const m=Y(n,a,r);t[r]?(t[r].p(m,i),d(t[r],1)):(t[r]=Z(m),t[r].c(),d(t[r],1),t[r].m(e.parentNode,e))}for(J(),r=a.length;r<t.length;r+=1)c(r);K()}},i(n){if(!s){for(let i=0;i<a.length;i+=1)d(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)v(t[i]);s=!1},d(n){W(t,n),n&&h(e)}}}function Z(o){let e,s;return e=new se({props:{comment:o[2]}}),{c(){A(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},p(a,t){const c={};t&1&&(c.comment=a[2]),e.$set(c)},i(a){s||(d(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){D(e,a)}}}function le(o){let e,s,a,t;const c=[ne,re],n=[];function i(r,m){return r[0].comments.length>0?0:1}return e=i(o),s=n[e]=c[e](o),{c(){s.c(),a=G()},l(r){s.l(r),a=G()},m(r,m){n[e].m(r,m),U(r,a,m),t=!0},p(r,m){let l=e;e=i(r),e===l?n[e].p(r,m):(J(),v(n[l],1,1,()=>{n[l]=null}),K(),s=n[e],s?s.p(r,m):(s=n[e]=c[e](r),s.c()),d(s,1),s.m(a.parentNode,a))},i(r){t||(d(s),t=!0)},o(r){v(s),t=!1},d(r){n[e].d(r),r&&h(a)}}}function oe(o){var r,m;let e,s,a,t,c;function n(l){o[1](l)}let i={innerText:"COMMENTS",username:(r=o[0].foreignUser)==null?void 0:r.username,author:(m=o[0].user)==null?void 0:m.username};return o[0].images!==void 0&&(i.images=o[0].images),e=new ee({props:i}),L.push(()=>Q(e,"images",n)),t=new X({props:{className:"image-row",$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){A(e.$$.fragment),a=P(),A(t.$$.fragment)},l(l){B(e.$$.fragment,l),a=S(l),B(t.$$.fragment,l)},m(l,f){C(e,l,f),U(l,a,f),C(t,l,f),c=!0},p(l,f){var b,u;const g={};f&1&&(g.username=(b=l[0].foreignUser)==null?void 0:b.username),f&1&&(g.author=(u=l[0].user)==null?void 0:u.username),!s&&f&1&&(s=!0,g.images=l[0].images,R(()=>s=!1)),e.$set(g);const $={};f&33&&($.$$scope={dirty:f,ctx:l}),t.$set($)},i(l){c||(d(e.$$.fragment,l),d(t.$$.fragment,l),c=!0)},o(l){v(e.$$.fragment,l),v(t.$$.fragment,l),c=!1},d(l){D(e,l),l&&h(a),D(t,l)}}}function ce(o){let e,s;return e=new x({props:{className:"gallery-user",$$slots:{default:[oe]},$$scope:{ctx:o}}}),{c(){A(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},p(a,[t]){const c={};t&33&&(c.$$scope={dirty:t,ctx:a}),e.$set(c)},i(a){s||(d(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){D(e,a)}}}function ie(o,e,s){let{data:a}=e;function t(c){o.$$.not_equal(a.images,c)&&(a.images=c,s(0,a))}return o.$$set=c=>{"data"in c&&s(0,a=c.data)},[a,t]}class pe extends j{constructor(e){super(),F(this,e,ie,ce,H,{data:0})}}export{pe as default};
