import{S as j,i as F,s as H,k,q as I,a as P,l as y,m as E,r as N,h as _,c as S,n as b,b as z,D as u,u as q,G as w,y as A,z as B,A as C,g as h,d as v,B as D,w as L,X as Q,Y as R,e as G,v as J,f as K,_ as W}from"../chunks/index.8bb6be9b.js";import{B as Z}from"../chunks/BoxGallery.71982b39.js";import{G as x}from"../chunks/Gallery.2529fd7f.js";import{f as O}from"../chunks/index.c08ef366.js";import{N as ee}from"../chunks/NavUser.2bd1534c.js";function te(o){let e,s,a,t=o[0].imageId+"",c,n,i,r,l=o[0].comment+"",m,d,p,$=O(o[0].createdAt)+"",U;return{c(){e=k("div"),s=k("a"),a=I("http://localhost:3000/gallery/"),c=I(t),i=P(),r=k("div"),m=I(l),d=P(),p=k("p"),U=I($),this.h()},l(g){e=y(g,"DIV",{class:!0});var f=E(e);s=y(f,"A",{href:!0,class:!0});var T=E(s);a=N(T,"http://localhost:3000/gallery/"),c=N(T,t),T.forEach(_),i=S(f),r=y(f,"DIV",{class:!0});var V=E(r);m=N(V,l),V.forEach(_),d=S(f),p=y(f,"P",{class:!0});var M=E(p);U=N(M,$),M.forEach(_),f.forEach(_),this.h()},h(){b(s,"href",n="/gallery/"+o[0].imageId),b(s,"class","svelte-prz2ve"),b(r,"class","user-comment-content svelte-prz2ve"),b(p,"class","svelte-prz2ve"),b(e,"class","user-comment-container svelte-prz2ve")},m(g,f){z(g,e,f),u(e,s),u(s,a),u(s,c),u(e,i),u(e,r),u(r,m),u(e,d),u(e,p),u(p,U)},p(g,[f]){f&1&&t!==(t=g[0].imageId+"")&&q(c,t),f&1&&n!==(n="/gallery/"+g[0].imageId)&&b(s,"href",n),f&1&&l!==(l=g[0].comment+"")&&q(m,l),f&1&&$!==($=O(g[0].createdAt)+"")&&q(U,$)},i:w,o:w,d(g){g&&_(e)}}}function ae(o,e,s){let{comment:a}=e;return o.$$set=t=>{"comment"in t&&s(0,a=t.comment)},[a]}class se extends j{constructor(e){super(),F(this,e,ae,te,H,{comment:0})}}function X(o,e,s){const a=o.slice();return a[2]=e[s],a}function re(o){let e,s,a;return{c(){e=k("div"),s=k("p"),a=I("This user hasn't commented yet"),this.h()},l(t){e=y(t,"DIV",{class:!0});var c=E(e);s=y(c,"P",{});var n=E(s);a=N(n,"This user hasn't commented yet"),n.forEach(_),c.forEach(_),this.h()},h(){b(e,"class","user-message")},m(t,c){z(t,e,c),u(e,s),u(s,a)},p:w,i:w,o:w,d(t){t&&_(e)}}}function ne(o){let e,s,a=o[0].comments,t=[];for(let n=0;n<a.length;n+=1)t[n]=Y(X(o,a,n));const c=n=>v(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=G()},l(n){for(let i=0;i<t.length;i+=1)t[i].l(n);e=G()},m(n,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,i);z(n,e,i),s=!0},p(n,i){if(i&1){a=n[0].comments;let r;for(r=0;r<a.length;r+=1){const l=X(n,a,r);t[r]?(t[r].p(l,i),h(t[r],1)):(t[r]=Y(l),t[r].c(),h(t[r],1),t[r].m(e.parentNode,e))}for(J(),r=a.length;r<t.length;r+=1)c(r);K()}},i(n){if(!s){for(let i=0;i<a.length;i+=1)h(t[i]);s=!0}},o(n){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)v(t[i]);s=!1},d(n){W(t,n),n&&_(e)}}}function Y(o){let e,s;return e=new se({props:{comment:o[2]}}),{c(){A(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},p(a,t){const c={};t&1&&(c.comment=a[2]),e.$set(c)},i(a){s||(h(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){D(e,a)}}}function le(o){let e,s,a,t;const c=[ne,re],n=[];function i(r,l){return r[0].comments.length>0?0:1}return e=i(o),s=n[e]=c[e](o),{c(){s.c(),a=G()},l(r){s.l(r),a=G()},m(r,l){n[e].m(r,l),z(r,a,l),t=!0},p(r,l){let m=e;e=i(r),e===m?n[e].p(r,l):(J(),v(n[m],1,1,()=>{n[m]=null}),K(),s=n[e],s?s.p(r,l):(s=n[e]=c[e](r),s.c()),h(s,1),s.m(a.parentNode,a))},i(r){t||(h(s),t=!0)},o(r){v(s),t=!1},d(r){n[e].d(r),r&&_(a)}}}function oe(o){var r;let e,s,a,t,c;function n(l){o[1](l)}let i={innerText:"COMMENTS",username:o[0].foreignUser.username,author:(r=o[0].user)==null?void 0:r.username};return o[0].images!==void 0&&(i.images=o[0].images),e=new ee({props:i}),L.push(()=>Q(e,"images",n)),t=new Z({props:{className:"image-row",$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){A(e.$$.fragment),a=P(),A(t.$$.fragment)},l(l){B(e.$$.fragment,l),a=S(l),B(t.$$.fragment,l)},m(l,m){C(e,l,m),z(l,a,m),C(t,l,m),c=!0},p(l,m){var $;const d={};m&1&&(d.username=l[0].foreignUser.username),m&1&&(d.author=($=l[0].user)==null?void 0:$.username),!s&&m&1&&(s=!0,d.images=l[0].images,R(()=>s=!1)),e.$set(d);const p={};m&33&&(p.$$scope={dirty:m,ctx:l}),t.$set(p)},i(l){c||(h(e.$$.fragment,l),h(t.$$.fragment,l),c=!0)},o(l){v(e.$$.fragment,l),v(t.$$.fragment,l),c=!1},d(l){D(e,l),l&&_(a),D(t,l)}}}function ce(o){let e,s;return e=new x({props:{className:"gallery-user",$$slots:{default:[oe]},$$scope:{ctx:o}}}),{c(){A(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,t){C(e,a,t),s=!0},p(a,[t]){const c={};t&33&&(c.$$scope={dirty:t,ctx:a}),e.$set(c)},i(a){s||(h(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){D(e,a)}}}function ie(o,e,s){let{data:a}=e;function t(c){o.$$.not_equal(a.images,c)&&(a.images=c,s(0,a))}return o.$$set=c=>{"data"in c&&s(0,a=c.data)},[a,t]}class pe extends j{constructor(e){super(),F(this,e,ie,ce,H,{data:0})}}export{pe as default};
