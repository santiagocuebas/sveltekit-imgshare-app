import{S as F,i as H,s as J,y as b,z as k,A as v,g as m,d as g,B as y,w as K,Y as L,a as z,c as C,b as $,Z as M,h as _,e as w,v as V,f as Y,k as N,q as Z,l as B,m as G,r as j,n as S,D as d,G as A,$ as O}from"../chunks/index.d4184e2c.js";import{B as Q}from"../chunks/BoxGallery.d2547153.js";import{G as R}from"../chunks/Gallery.53b577ed.js";import{I as W}from"../chunks/Image.45cedcfe.js";import{N as X}from"../chunks/NavUser.40852bcd.js";function D(i,e,r){const a=i.slice();return a[2]=e[r],a}function x(i){let e,r,a,t,s=i[0].user&&P(i);return{c(){e=N("div"),r=N("p"),a=Z("This user hasn't uploaded any image yet"),t=z(),s&&s.c(),this.h()},l(n){e=B(n,"DIV",{class:!0});var o=G(e);r=B(o,"P",{});var l=G(r);a=j(l,"This user hasn't uploaded any image yet"),l.forEach(_),t=C(o),s&&s.l(o),o.forEach(_),this.h()},h(){S(e,"class","user-message user-column")},m(n,o){$(n,e,o),d(e,r),d(r,a),d(e,t),s&&s.m(e,null)},p(n,o){n[0].user?s?s.p(n,o):(s=P(n),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:A,o:A,d(n){n&&_(e),s&&s.d()}}}function ee(i){let e,r,a=i[0].images,t=[];for(let n=0;n<a.length;n+=1)t[n]=T(D(i,a,n));const s=n=>g(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=w()},l(n){for(let o=0;o<t.length;o+=1)t[o].l(n);e=w()},m(n,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,o);$(n,e,o),r=!0},p(n,o){if(o&1){a=n[0].images;let l;for(l=0;l<a.length;l+=1){const f=D(n,a,l);t[l]?(t[l].p(f,o),m(t[l],1)):(t[l]=T(f),t[l].c(),m(t[l],1),t[l].m(e.parentNode,e))}for(V(),l=a.length;l<t.length;l+=1)s(l);Y()}},i(n){if(!r){for(let o=0;o<a.length;o+=1)m(t[o]);r=!0}},o(n){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)g(t[o]);r=!1},d(n){O(t,n),n&&_(e)}}}function P(i){let e,r,a;return{c(){e=N("a"),r=Z("Start now"),this.h()},l(t){e=B(t,"A",{href:!0});var s=G(e);r=j(s,"Start now"),s.forEach(_),this.h()},h(){S(e,"href",a="/user/"+i[0].user.username+"/upload")},m(t,s){$(t,e,s),d(e,r)},p(t,s){s&1&&a!==(a="/user/"+t[0].user.username+"/upload")&&S(e,"href",a)},d(t){t&&_(e)}}}function T(i){let e,r;return e=new W({props:{image:i[2]}}),{c(){b(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,t){v(e,a,t),r=!0},p(a,t){const s={};t&1&&(s.image=a[2]),e.$set(s)},i(a){r||(m(e.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),r=!1},d(a){y(e,a)}}}function ae(i){let e,r,a,t;const s=[ee,x],n=[];function o(l,f){return l[0].images.length>0?0:1}return e=o(i),r=n[e]=s[e](i),{c(){r.c(),a=w()},l(l){r.l(l),a=w()},m(l,f){n[e].m(l,f),$(l,a,f),t=!0},p(l,f){let p=e;e=o(l),e===p?n[e].p(l,f):(V(),g(n[p],1,1,()=>{n[p]=null}),Y(),r=n[e],r?r.p(l,f):(r=n[e]=s[e](l),r.c()),m(r,1),r.m(a.parentNode,a))},i(l){t||(m(r),t=!0)},o(l){g(r),t=!1},d(l){n[e].d(l),l&&_(a)}}}function te(i){var l,f,p;let e,r,a,t,s;function n(u){i[1](u)}let o={username:(l=i[0].foreignUser)==null?void 0:l.username,role:(f=i[0].user)==null?void 0:f.role,author:(p=i[0].user)==null?void 0:p.username};return i[0].images!==void 0&&(o.images=i[0].images),e=new X({props:o}),K.push(()=>L(e,"images",n)),t=new Q({props:{className:"image-cell",$$slots:{default:[ae]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment),a=z(),b(t.$$.fragment)},l(u){k(e.$$.fragment,u),a=C(u),k(t.$$.fragment,u)},m(u,c){v(e,u,c),$(u,a,c),v(t,u,c),s=!0},p(u,c){var E,I,U;const h={};c&1&&(h.username=(E=u[0].foreignUser)==null?void 0:E.username),c&1&&(h.role=(I=u[0].user)==null?void 0:I.role),c&1&&(h.author=(U=u[0].user)==null?void 0:U.username),!r&&c&1&&(r=!0,h.images=u[0].images,M(()=>r=!1)),e.$set(h);const q={};c&33&&(q.$$scope={dirty:c,ctx:u}),t.$set(q)},i(u){s||(m(e.$$.fragment,u),m(t.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),s=!1},d(u){y(e,u),u&&_(a),y(t,u)}}}function re(i){let e,r;return e=new R({props:{className:"gallery-user",$$slots:{default:[te]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,t){v(e,a,t),r=!0},p(a,[t]){const s={};t&33&&(s.$$scope={dirty:t,ctx:a}),e.$set(s)},i(a){r||(m(e.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),r=!1},d(a){y(e,a)}}}function se(i,e,r){let{data:a}=e;function t(s){i.$$.not_equal(a.images,s)&&(a.images=s,r(0,a))}return i.$$set=s=>{"data"in s&&r(0,a=s.data)},[a,t]}class fe extends F{constructor(e){super(),H(this,e,se,re,J,{data:0})}}export{fe as default};
