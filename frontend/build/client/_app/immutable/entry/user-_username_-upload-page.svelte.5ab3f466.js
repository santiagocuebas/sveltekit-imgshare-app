import{S as V,i as M,s as O,k as _,q as D,a as z,y as N,l as d,m as k,h as p,r as A,c as y,z as q,n as c,b as g,D as b,A as R,g as B,d as T,B as F,F as X,v as Y,f as Z,e as C,$ as j,w as J,Y as K,Z as Q,C as G}from"../chunks/index.4c08a5a5.js";import{D as P}from"../chunks/config.c392556e.js";import{F as W,E as ee}from"../chunks/ErrorBox.c3dc3e62.js";import{B as te}from"../chunks/BoxGallery.30b4255f.js";import{h as le}from"../chunks/handle-image.6a2369ae.js";function H(m,t,s){const a=m.slice();return a[6]=t[s],a}function L(m){let t,s,a;function o(e){m[5](e)}let i={errors:m[1]};return m[3]!==void 0&&(i.hide=m[3]),t=new ee({props:i}),J.push(()=>K(t,"hide",o)),{c(){N(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,n){R(t,e,n),a=!0},p(e,n){const f={};n&2&&(f.errors=e[1]),!s&&n&8&&(s=!0,f.hide=e[3],Q(()=>s=!1)),t.$set(f)},i(e){a||(B(t.$$.fragment,e),a=!0)},o(e){T(t.$$.fragment,e),a=!1},d(e){F(t,e)}}}function ae(m){let t,s,a,o,i,e,n,f,u,v,U,I,$,x,r=m[2]&&L(m);return{c(){r&&r.c(),t=z(),s=_("label"),a=_("input"),o=z(),i=_("input"),e=z(),n=_("textarea"),f=z(),u=_("button"),v=_("i"),U=D(`\r
			Upload`),this.h()},l(l){r&&r.l(l),t=y(l),s=d(l,"LABEL",{class:!0});var h=k(s);a=d(h,"INPUT",{type:!0,name:!0,class:!0}),h.forEach(p),o=y(l),i=d(l,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,spellcheck:!0,autocomplete:!0,minlength:!0,maxlength:!0}),e=y(l),n=d(l,"TEXTAREA",{class:!0,name:!0,placeholder:!0,rows:!0,spellcheck:!0,autocomplete:!0,maxlength:!0}),k(n).forEach(p),f=y(l),u=d(l,"BUTTON",{class:!0});var E=k(u);v=d(E,"I",{class:!0}),k(v).forEach(p),U=A(E,`\r
			Upload`),E.forEach(p),this.h()},h(){c(a,"type","file"),c(a,"name","image"),c(a,"class","svelte-1e5nczb"),c(s,"class","svelte-1e5nczb"),c(i,"class","upload-input svelte-1e5nczb"),c(i,"type","text"),c(i,"name","title"),c(i,"placeholder","Title"),c(i,"spellcheck","false"),c(i,"autocomplete","off"),c(i,"minlength","5"),c(i,"maxlength","40"),i.required=!0,c(n,"class","upload-input svelte-1e5nczb"),c(n,"name","description"),c(n,"placeholder","Description"),c(n,"rows","3"),c(n,"spellcheck","false"),c(n,"autocomplete","off"),c(n,"maxlength","4200"),c(v,"class","fa-solid fa-upload"),c(u,"class","svelte-1e5nczb")},m(l,h){r&&r.m(l,h),g(l,t,h),g(l,s,h),b(s,a),g(l,o,h),g(l,i,h),g(l,e,h),g(l,n,h),g(l,f,h),g(l,u,h),b(u,v),b(u,U),I=!0,$||(x=X(a,"change",le),$=!0)},p(l,h){l[2]?r?(r.p(l,h),h&4&&B(r,1)):(r=L(l),r.c(),B(r,1),r.m(t.parentNode,t)):r&&(Y(),T(r,1,1,()=>{r=null}),Z())},i(l){I||(B(r),I=!0)},o(l){T(r),I=!1},d(l){r&&r.d(l),l&&p(t),l&&p(s),l&&p(o),l&&p(i),l&&p(e),l&&p(n),l&&p(f),l&&p(u),$=!1,x()}}}function S(m){let t,s,a,o,i,e;return{c(){t=_("a"),s=_("img"),i=z(),this.h()},l(n){t=d(n,"A",{href:!0,class:!0});var f=k(t);s=d(f,"IMG",{src:!0,alt:!0,class:!0}),i=y(f),f.forEach(p),this.h()},h(){G(s.src,a=P+"/uploads/"+m[6].filename)||c(s,"src",a),c(s,"alt",o=m[6].title),c(s,"class","svelte-1e5nczb"),c(t,"href",e="/gallery/"+m[6].id),c(t,"class","svelte-1e5nczb")},m(n,f){g(n,t,f),b(t,s),b(t,i)},p(n,f){f&1&&!G(s.src,a=P+"/uploads/"+n[6].filename)&&c(s,"src",a),f&1&&o!==(o=n[6].title)&&c(s,"alt",o),f&1&&e!==(e="/gallery/"+n[6].id)&&c(t,"href",e)},d(n){n&&p(t)}}}function se(m){let t,s=m[0].images,a=[];for(let o=0;o<s.length;o+=1)a[o]=S(H(m,s,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=C()},l(o){for(let i=0;i<a.length;i+=1)a[i].l(o);t=C()},m(o,i){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(o,i);g(o,t,i)},p(o,i){if(i&1){s=o[0].images;let e;for(e=0;e<s.length;e+=1){const n=H(o,s,e);a[e]?a[e].p(n,i):(a[e]=S(n),a[e].c(),a[e].m(t.parentNode,t))}for(;e<a.length;e+=1)a[e].d(1);a.length=s.length}},d(o){j(a,o),o&&p(t)}}}function re(m){let t,s,a,o,i,e,n,f,u,v,U,I,$,x;return e=new W({props:{action:P+"/api/image/upload",prefix:"/gallery",change:m[3],errors:m[4],$$slots:{default:[ae]},$$scope:{ctx:m}}}),$=new te({props:{className:"image-upload",$$slots:{default:[se]},$$scope:{ctx:m}}}),{c(){t=_("div"),s=_("h2"),a=_("i"),o=D(`\r
		Upload Image`),i=z(),N(e.$$.fragment),n=z(),f=_("div"),u=_("h2"),v=_("i"),U=D(`\r
		Recent Uploads`),I=z(),N($.$$.fragment),this.h()},l(r){t=d(r,"DIV",{class:!0});var l=k(t);s=d(l,"H2",{class:!0});var h=k(s);a=d(h,"I",{class:!0}),k(a).forEach(p),o=A(h,`\r
		Upload Image`),h.forEach(p),i=y(l),q(e.$$.fragment,l),l.forEach(p),n=y(r),f=d(r,"DIV",{class:!0});var E=k(f);u=d(E,"H2",{class:!0});var w=k(u);v=d(w,"I",{class:!0}),k(v).forEach(p),U=A(w,`\r
		Recent Uploads`),w.forEach(p),I=y(E),q($.$$.fragment,E),E.forEach(p),this.h()},h(){c(a,"class","fa-solid fa-image title-icon"),c(s,"class","title"),c(t,"class","svelte-1e5nczb"),c(v,"class","fa-solid fa-images title-icon"),c(u,"class","title"),c(f,"class","svelte-1e5nczb")},m(r,l){g(r,t,l),b(t,s),b(s,a),b(s,o),b(t,i),R(e,t,null),g(r,n,l),g(r,f,l),b(f,u),b(u,v),b(u,U),b(f,I),R($,f,null),x=!0},p(r,[l]){const h={};l&8&&(h.change=r[3]),l&526&&(h.$$scope={dirty:l,ctx:r}),e.$set(h);const E={};l&513&&(E.$$scope={dirty:l,ctx:r}),$.$set(E)},i(r){x||(B(e.$$.fragment,r),B($.$$.fragment,r),x=!0)},o(r){T(e.$$.fragment,r),T($.$$.fragment,r),x=!1},d(r){r&&p(t),F(e),r&&p(n),r&&p(f),F($)}}}function oe(m,t,s){let{data:a}=t,o={},i=!1,e=u=>s(2,i=u);const n=u=>s(1,o=u);function f(u){e=u,s(3,e)}return m.$$set=u=>{"data"in u&&s(0,a=u.data)},[a,o,i,e,n,f]}class me extends V{constructor(t){super(),M(this,t,oe,re,O,{data:0})}}export{me as default};
